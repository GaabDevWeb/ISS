2. Construir um relatório interativo baseado em dados usando Google Data Studio
2.2 Preparar dados para serem consumidos pelo Google Data Studio
2.3 Estruturar aspectos e aparência do relatório 
2.4 Adicionar visualizações de dados ao relatório

============> (Aula 1 da Etapa 3) 
(1) Material de Estudo
https://learning.oreilly.com/library/view/google-data-studio/9781484251560/html/485069_1_En_4_Chapter.xhtml --> 4. An Online Survey (Livro Google Data Studio for Beginners: Start Making Your Data Actionable - Grant Kemp, Gerry White)
https://learning.oreilly.com/library/view/hands-on-with/9781119616085/c02.xhtml --> Cooking with Google Data Studio (Livro Hands On With Google Data Studio - Lee Hurst)
https://learning.oreilly.com/library/view/hands-on-with/9781119616085/c03.xhtml#head-2-10 --> Static Report Design (Livro Hands On With Google Data Studio - Lee Hurst)

(2) Guia
https://learning.oreilly.com/library/view/google-data-studio/9781484251560/html/485069_1_En_4_Chapter.xhtml --> 4. An Online Survey (Livro Google Data Studio for Beginners: Start Making Your Data Actionable - Grant Kemp, Gerry White)
Pesquisa Online de uma empresa de viagem

Quem eram os clientes da empresa de viagens

Reunindo os dados

	Coletar os dados dos clientes (10.000 e-mails enviados)

		Perguntas sobre os clientes:

			Gênero (Gender)

			Faixa etária (Age range)

			Faixa salarial (Salary range)

			Estado civil (Marital status)

			Filhos (e netos) - Kids (and grandkids)             

			Cargo (Job title)

		Visão do site/serviço

			Com que frequência eles tiravam férias (How often they holidayed)

			Motivos para viajar (Reasons for going on a holiday)

			Eles gostaram de algum aspecto do site? (Did they like aspects of the website) 

			Eles gostaram de algum aspecto do serviço? (Did they like aspects of the service)

		Texto livre para indicar algo que estava faltando no site. 
	

	Preparando os dados

		SurveyMonkey  --> É uma companhia baseada em nuvem de desenvolvimento de pesquisas online fundada em 1999 por Ryan Finley. 
		Site oficial - https://pt.surveymonkey.com/? - Crie pesquisas e formulários gratuitos em minutos - Pergunte, escute e reaja a insights rapidamente com o software líder mundial em pesquisas e formulários. Existem os planos:
			Básico - Para quem está começando. Crie pesquisas ilimitadas e colete 25 respostas em cada pesquisa gratuitamente.
			Pessoas Físicas - Para usuários individuais que precisem de ferramentas avançadas e queiram economizar com um plano flexível e repleto de recursos.
			Equipes - Para equipes em expansão que precisem de excelentes ferramentas de pesquisa, controles de identidade de marca e recursos de colaboração em tempo real.
			Enterprise - Para organizações que precisem de acesso seguro, ferramentas administrativas e integrações avançadas em larga escala.

 		Foram respondidas 5.000 pesquisas

		Limpar os dados (respostas consideradas "lixo" de pessoas que não queriam ser incomodadas; nulos e brancos foram removidos; nomes exclusivos). 

		Se o conjunto de dados fosse maior (poderia ser usado o Google BigQuery)              
		BigQuery --> É um data warehouse totalmente gerenciado e sem servidor que permite análises escalonáveis ​​em petabytes de dados. É uma plataforma como serviço que oferece suporte a consultas usando ANSI SQL. Ele também possui recursos integrados de aprendizado de máquina.  
		Serverless (ou servless computing) --> A computação sem servidor é um modelo de execução de computação em nuvem em que o provedor de nuvem aloca recursos de máquina sob demanda, cuidando dos servidores em nome de seus clientes.                                       


	Projetando o relatório (de forma consistente)

		Barra de cabeçalho (logotipo da empresa)

		Tema de cores (que tenha vínculo com a empresa)

		Barra de rodapé (alguma forma de contato com a sua empresa)


		Começar no início do relatório com uma visão geral (parte superior) e desça para dados mais detalhados.

		Figura 4-3 botão Aplicar filtro

		Figura 4-4 Gráfico de barras empilhadas

		Figura 4-5 Exemplo de uma tabela dinâmica mostrando a frequência de compra por idade

		Figura 4-6 Gráfico de pizza e mapa de árvore demonstrando como mostrar dados que podem ser usados ​​como filtro
			Were the product descriptions comprehensive (As descrições do produto foram compreensivas)

		Figura 4-7 Tabela com resultados em texto livre para a pergunta “Faltou alguma coisa na descrição do produto?”
			Was there anything missing? (Faltou alguma coisa?) 
			null = nulo
			Yes ou yes = Sim
			No = Não
			Nothing missing ou Nothing missing. = nada faltando
			Fine = bem
			N/A, n/a, N/a = Não aplicável
			All good = Tudo certo
			good = bem
			It was fine = Foi bom 
			was fine = estava bem

		Figura 4-11 Gerando os dados com tabelas dinâmicas de mapa de calor e gráficos de rosca
			Have you ever on a villa holiday with friend?  - Você já passou férias em uma casa de veraneio com um amigo?
			Feelings toward website.com - Sentimentos em relação a website.com
				Quite positive - Bastante positivo
				Very positive - Muito positivo
				Neutral - Neutro
				Quite negative - Bastante negativo
				Very negative - Muito negativo
			Preferred comms channel - Canal de comunicação preferido
			Age / Count - Idade / Contagem
			Purchase Frequency - Frequência de compra
 
============> (Aula 2 da Etapa 3) 
https://learning.oreilly.com/library/view/hands-on-with/9781119616085/c02.xhtml#head-2-6 --> Out First Example (Livro Hands On With Google Data Studio - Lee Hurst)

Passo 1. Selecione um prato para preparar: Visualizando uma conta bancária
	
	1. Cabeçalho da página

	2. Scorecards (Visão Geral) 

	3. Série temporal

	4. Tabela

	5. Rodapé do Relatório

	6. Seletor de intervalo de datas
	Obs.: Vinculado ao link https://learning.oreilly.com/library/view/hands-on-with/9781119616085/c02.xhtml 'Figura 2.1' ou 'Figure 2.1'. 

		Antes de começarmos: coisas que você precisa

			Ter uma conta no Google. Serão usados: Looker Studio, Google Drive e Google Planilhas.

			A página para baixar os arquivos de fato: https://media.wiley.com/product_ancillary/85/11196160/DOWNLOAD/Online%20Resources.html --> Hands On Data Studio - Resources
				Rolar a tela para baixo e em 'Chapter 2: Cooking with Google Data Studio' ou em português 'Capítulo 2: Cozinhando com o Google Data Studio'. Baixar os arquivos: Chapter2-AccountData.csv e ChrisCooperLogo.png.
			Obs.: Esses arquivos foram disponibilizados no infnet.online na guia 'Documentos' na pasta desta disciplina. 


Passo 2. Vamos às compras! Obtendo os dados

	Banco online normalmente não tem uma ferramenta de visualização.

	Tabelas e gráficos mostrados de forma não útil.


Passo 3. Desembale as compras: configurando o Google Drive

	Interessante colocar os dados no Google Drive (https://drive.google.com) 

	Criar no Google Drive a pasta 'Looker Studio Exemplos'. Entrar nessa pasta.

	Criar no Google Drive a pasta 'Exemplo 1'. Entrar nessa pasta.

	Colocar o arquivo Chapter2-AccountData.csv nesta última pasta.

	Clicar duas vezes nesse arquivo. Em 'Abrir com' selecionar 'Planilhas Google'.


Passo 4. Preparando os ingredientes: trabalhando com o Planilhas Google

	Usaremos o Planilha Google. Que mostra os dados brutos (como eles estão dispostos em linhas e colunas).

	Podemos colocar alguns formatos na Planilha Google caso seja necessário.

	Estão no mesmo ambiente: Looker Studio e Planilha Google (Google Sheet). Facilita com a parte de acesso.

	Poderia ser necessário limpar dados (remover partes desnecessárias da planilha como: cabeçalhos, rodapés, totalizações, colunas desnecessárias e colunas vazias).

	Não pode ter nomes de cabeçalho duplicados.

	Na coluna 'Date' selecionar todas as datas:

		A partir do menu Formatar --> Número --> Texto Simples

		A partir do menu Formatar --> Alinhamento --> Esquerda

	Na coluna 'Transaction Amount' selecionar todos os números com o caractere $. 

		A partir do menu Formatar --> Número --> Moeda

		A partir do menu Editar --> Localizar e Substituir

			Trocar , (vírgula) por nenhum caractere e clicar no botão 'Substituir tudo'. 
				
			Trocar . (ponto) por , (vírgula) e clicar no botão 'Substituir tudo'.

			Clicar no botão 'Concluído'. 

			Comentário: Para reconhecer como moeda (número) em R$. 

	Na coluna 'Balance' selecionar todos os números com o caractere $. 

		A partir do menu Formatar --> Número --> Moeda

		A partir do menu Editar --> Localizar e Substituir

			Trocar , (vírgula) por nenhum caractere e clicar no botão 'Substituir tudo'. 
				
			Trocar . (ponto) por , (vírgula) e clicar no botão 'Substituir tudo'.

			Clicar no botão 'Concluído'. 

			Comentário: Para reconhecer como moeda (número) em R$.

	Sair do Planilha Google (fechar essa guia do browser). 


Passo 5. Familiarizando-se com a cozinha: tela inicial do Looker Studio e iniciando um novo relatório

	É explicado a tela inicial do Looker Studio.

		1. Cabeçalho

		2. Botão de criação e Filtros de Lista

		3. Seleção de funções (Reports-Relatórios, Data Sources-Origem de dados e Explorer-Análise)

		4. Seção de Início Rápido --> Normalmente os templates têm vínculos com vários serviços do Google.

		5. Seção Lista de relatórios --> São mostrados todos os relatórios criados e visualizados.
		Obs.: Vinculado ao link https://learning.oreilly.com/library/view/hands-on-with/9781119616085/c02.xhtml 'Figura 2.11' ou 'Figure 2.11'. 


Passo 6. Montar os Ingredientes: Conectando os Dados ao Relatório (no Looker Studio)

	Acessar o Google Looker Studio (https://lookerstudio.google.com/).

		Selecionar a opção 'Relatório em branco'. 

			Na janela 'Adicionar dados ao relatório' na guia 'Conectar aos dados' selecionar 'Google Planilhas'.

				Do lado esquerdo da janela clicar em 'TODOS OS ITENS'.

				Selecionar o arquivo 'Chapter2-AccountData' e clicar no botão 'Adicionar'.

					Na janela 'Você está prestes a adicionar dados a este relatório' ou em inglês 'You are about to add data to this Report' clicar no botão 'ADICIONAR AO RELATÓRIO'. 

					Em 'Dados' no lado direito da página. Clicar em '+ Adicionar um campo' escolher a opção 'Adicionar campo calculado'. 

						Na janela aberta clicar em 'Todos os campos' no lado esquerdo da janela. 

							No campo 'Balance'

								Em 'Tipo' selecionar Moeda --> BRL - Real brasileiro (R$)

								Em 'Agregação padrão' selecionar Médio

							No campo 'Transaction Amount'

								Em 'Tipo' selecionar Moeda --> BRL - Real brasileiro (R$)

								Em 'Agregação padrão' selecionar Soma

							No campo 'Transaction Number'

								Em 'Tipo' selecionar Texto.

							Clicar no botão 'Concluído' do lado direito da janela. 

			Em 'Relatório sem titulo' colocar o nome do relatório 'Conta corrente – Exemplo prático do Looker Studio 1.0'.

			A partir do menu clicar em Arquivo --> 'Tema e layout' clicar na guia 'LAYOUT'

				Campo 'Largura (px)': 900

				Campo 'Altura (px)': 700


Passo 7. Defina a tabela: adicionando seu primeiro gráfico

	Neste caso será usada a tabela já mencionada neste arquivo do Looker Studio. 
		
		Selecionar a tabela. 

			Em 'Configuração'
			
				Em 'Dimensão' colocar nesta ordem as colunas:
					Date
					Description 
					Memo

				Em 'Métrica' colocar nessa ordem as colunas:
					Transaction Amount
					Balance

				Em 'Número de linhas' marcar a opção 'N principais'. 

				Em 'Classificar' mencionar a coluna 'Date' (Decrescente).

				Clicar no botão 'Adicionar classificação' e escolher a coluna Balance (Crescente).

				Com a tabela selecionada clicar no botão direito escolher 'Redimensionar colunas' --> Ajustar aos dados.

			Em 'Estilo' rolar para baixo:

				Em 'Corpo da tabela' desmarcar a opção 'Números das linhas'

				Ajustar o tamanho da tabela, arrastando para o lado direito e movê-la para a parte debaixo do dashboard. 


Passo 8. Mantenha a pontuação com scorecards

	Clicar em 'Adicionar um gráfico' em 'Visão geral' selecionar a opção 'Visão geral'

		Em 'Configuração'

			Em Campo principal marcar a opção 'Métrica' e colocar o campo 'Balance'.

				Passar o mouse em 'AVG' dessa métrica e dar um clique no mouse (botão esquerdo). No campo Nome de exibição 'Saldo Médio'. 
			
			Ajustar o tamanho deste gráfico. 

		Em 'Estilo'

			Em 'plano de fundo e borda'

				Clicar em 'Cenário' e selecionar uma cor amarela.

	Copiar e colar a 'Visão Geral' chamada 'Saldo Médio'.

		Selecionar a 'Visão Geral' copiada
		      	
			Em 'Configuração' 

				Em 'Métrica' clicar no 'AVG'

					Nome de exibição: 'Saldo Máximo'

 					Agregação: 'Máx.'

			Em 'Estilo'

				Em 'plano de fundo e borda'

					Clicar em 'Cenário' e selecionar uma cor verde clara.

	Copiar e colar a 'Visão Geral' chamada 'Saldo Máximo'.

		Selecionar a 'Visão Geral' copiada

			Em 'Configuração' 

				Em 'Métrica' clicar no 'MAX'

					Nome de exibição: 'Saldo Mínimo'

					Agregação: 'Mín.'

			Em 'Estilo'

				Em 'plano de fundo e borda'

					Clicar em 'Cenário' e selecionar uma cor vermelha clara.


Passo 9. Já era hora: construindo o gráfico de séries temporais

	Com o gráfico de séries temporais daremos um salto dos textos e dos números para uma visualização verdadeira.

		Podemos compreender tendências e padrões.

		A história dos dados é mostrada.

		Normalmente a regra é:

			. O tempo vai da esquerda para a direita;

			. Se as coisas estão melhorando, a linha deve estar subindo; se as coisas estão piorando, a linha deve diminuir com o tempo.                                               

	Adicionar uma série temporal suavizada

		Clicar em 'Adicionar um gráfico' em 'Série Temporal' selecionar a opção 'Gráfico de séries temporais suavizadas'

			Em 'Configuração'

				Em Métrica deve mostrar o campo 'Balance' (com a agregação 'AVG'). 

					Clicar em 'AVG'

					Nome de exibição: 'Saldo Médio'

		Esticar o gráfico para preencher o meio da tela.

		Comentários:

		(1) Há várias quedas abaixo da linha zero.

			. Nos dias em que não ocorrem transações, também não há registro de saldo. Embora existam apenas algumas datas de referência ao longo do eixo X, o gráfico está tentando plotar todas as datas no período. Quando uma data não tem entrada, por padrão ela é interpretada no gráfico como valor zero.

			. Para que a linha se curve corretamente, às vezes ela desce para o intervalo negativo para manter a linha suave e ainda passar pelos valores corretos.

		(2) Para minizar o problema das quedas abaixo de zero.

			Em 'Estilo'

				Em 'Dados ausentes' selecionar a opção 'Interpolação Linear'.

					Algumas colocações sobre o gráfico gerado:

						. A conta caiu abaixo de zero por volta de 1º de julho de 2018.

						. Há um padrão definido aqui. O saldo salta a cada dois meses, depois desce para níveis baixos antes de voltar a subir novamente. Parece que nos próximos meses ocorrerá o mesmo.

						. Houve vários pontos em que a conta quase chegou a zero.

						. A conta chegou a zero em julho de 2018.

						. O saldo médio da conta varia muito ao longo do tempo.


Passo 10. Sugestões de veiculação: toques finais e compartilhamento de seu relatório

	Adicionar uma barra de cabeçalho

		Clicar em 'Forma' selecionar 'Retângulo' e criar o mesmo na parte de cima da tela.

			Em 'Propriedades de Forma'

				Clicar em 'Cenário' e selecionar uma cor azul. 

		Clicar em 'Texto' e colocar o mesmo em cima do retângulo azul.

			Em 'Propriedades de Texto'

				Em 'Cor da fonte' escolher a cor branca

				Em 'Tamanho da fonte' colocar 18px

				Em 'Fonte' selecionar 'Raleway'

                                Marcar 'Negrito' (letra B maiúscula)

			Na Caixa de Texto criada digitar 'Conta Corrente Chris Cooper'

		Clicar em 'Imagem'

			Selecionar 'Fazer upload do computador'

				Ir para o caminho onde encontra-se o arquivo ChrisCooperLogo.png, selecioná-lo e clicar no botão 'Abrir'.

				Definir o tamanho da imagem e colocar o mesmo no início do cabeçalho do lado esquerdo.

		Clicar em 'Adicionar um controle'

			Selecionar a opção 'Controle de Período' e colocar do lado direito do cabeçalho.

				Em 'Propriedades de Controle do período'

					Em 'Configuração'

						Em 'Filtro de período padrão' clicar em 'Período automático'

							No campo 'Data de início' selecionar '01/janeiro/2018'

							No campo 'Data de término' selecionar '31/março/2019'

							Clicar no botão 'Aplicar'

					Em 'Estilo'

						Em 'Plano de fundo e borda'

							Clicar em 'Cenário' e selecionar a cor branca.  


	Especificar as pessoas que acessarão esse relatório

		Clicar no botão 'Compartilhar' e na opção 'Gerar link do relatório'. 
			
		Clicar no link 'Abrir as configurações de compartilhamento'. 
			
		Clicar em 'Restrito' e escolher a opção 'Público'

		      Clicar no botão 'Salvar'. 


Passo 11. Ver o relatório (dashboard). 

	Clicar no botão 'Leitura' ou clicar no link deste arquivo que foi criado. 

	Mexer em algumas partes do dashboard. Os valores são ajustados de acordo com os itens que são manipulados no dashboard. 